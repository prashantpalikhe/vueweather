webpackJsonp([1],[,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return d}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return l});var r="SELECT_UNIT",i="GET_CURRENT_LOCATION_REQUEST",a="GET_CURRENT_LOCATION_SUCCESS",u="GET_CURRENT_LOCATION_FAILURE",o="GET_LOCATION_FOR_ADDRESS_REQUEST",c="GET_LOCATION_FOR_ADDRESS_SUCCESS",s="GET_LOCATION_FOR_ADDRESS_FAILURE",d="GET_WEATHER_REQUEST",f="GET_WEATHER_SUCCESS",l="GET_WEATHER_FAILURE"},,,,,,function(t,e,n){"use strict";e.a=function(t){return"number"!=typeof t?t:Math.round(t)}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),a=function t(e,n,r,a,u,o,c,s,d,f,l){i()(this,t),this.temperature=e,this.apparentTemperature=n,this.summary=r,this.icon=a,this.precipProbability=u,this.humidity=o,this.windSpeed=c,this.windBearing=s,this.cloudCover=d,this.pressure=f,this.period=l};e.a=a},function(t,e,n){"use strict";var r=n(1),i=n.n(r),a=function t(e,n,r,a,u){i()(this,t),this.max=e,this.min=n,this.time=r,this.icon=a,this.summary=u};e.a=a},,,,,,,,function(t,e,n){function r(t){n(71)}var i=n(0)(n(29),n(82),r,"data-v-4ca927e2",null);t.exports=i.exports},function(t,e,n){"use strict";var r=n(3),i=n(9),a=n(38),u=n(36),o=n(35),c=n(37);r.a.use(i.a),e.a=new i.a.Store({state:a.a,getters:u.a,actions:o.a,mutations:c.a})},function(t,e,n){function r(t){n(73)}var i=n(0)(n(24),n(84),r,null,null);t.exports=i.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i=n.n(r),a=n(78),u=n.n(a),o=n(79),c=n.n(o),s=n(76),d=n.n(s),f=n(77),l=n.n(f),h=n(9);e.default={name:"app",components:{Search:u.a,UnitSwitcher:c.a,CurrentWeather:d.a,DailyWeather:l.a},computed:i()({},n.i(h.b)(["location","weather"])),methods:i()({},n.i(h.c)(["selectUnit","getCurrentLocation","getLocationForAddress"]),{onQueryEntered:function(t){this.getLocationForAddress(t)},onUnitChanged:function(t){this.selectUnit(t)}}),created:function(){this.getCurrentLocation()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(20),a=n.n(i),u=n(10);e.default={name:"CurrentWeather",components:{WeatherIcon:a.a},filters:{round:u.a},props:{data:{type:r.a,required:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(20),a=n.n(i),u=n(10),o=n(30);e.default={name:"DailyWeather",components:{WeatherIcon:a.a},filters:{round:u.a,day:o.a},props:{data:{type:r.a,required:!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search",methods:{submitForm:function(){this.$emit("onQueryEntered",this.$refs.city.value)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i=n.n(r),a=n(9);n(4);e.default={computed:i()({},n.i(a.b)(["units"])),methods:{selectUnit:function(t){this.$emit("onUnitChanged",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(75),i=n.n(r),a=i()(window);e.default={name:"WeatherIcon",props:{size:{type:Number,default:32},name:{type:String,required:!0}},mounted:function(){this.setIcon(this.name)},updated:function(){this.setIcon(this.name)},beforeDestroy:function(){this.icon.remove(this.$refs.canvas)},methods:{setIcon:function(t){this.icon=new a({color:"white"}),this.icon.set(this.$refs.canvas,t),this.icon.play()}}}},function(t,e,n){"use strict";var r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];e.a=function(t){if("number"!=typeof t)return t;var e=new Date(t);return r[e.getDay()]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(23),a=n(21),u=n(22),o=n.n(u);r.a.use(i.a),r.a.config.productionTip=!1,new r.a({el:"#app",template:"<App/>",components:{App:o.a},store:a.a})},function(t,e,n){"use strict";var r=n(1),i=n.n(r),a=function t(e,n,r){i()(this,t),this.latitude=e,this.longitude=n,this.name=r};e.a=a},function(t,e,n){"use strict";var r=n(1),i=n.n(r),a=function t(e,n,r){i()(this,t),this.location=e,this.current=n,this.forecast=r};e.a=a},function(t,e,n){"use strict";var r=n(32),i=n(33),a=n(11),u=n(12),o=n(3),c={GEOCODE:"https://maps.googleapis.com/maps/api/geocode/json?address=",FORECAST:"https://api.forecast.io/forecast/4891dee8e0ca9cf8fdb7ad6dd07fef9f/",LOCATOR:"http://ip-api.com/json"};e.a={getLocationForAddress:function(t){return o.a.http.get(""+c.GEOCODE+t).then(function(t){return t.json()}).then(function(t){var e=t.results[0],n=e.formatted_address,i=e.geometry.location,a=i.lat,u=i.lng;return new r.a(a,u,n)})},getWeather:function(t,e){var n=""+c.FORECAST+t.latitude+","+t.longitude+"?units="+e.value+"&exclude=minutely,hourly,alerts,flag";return o.a.http.jsonp(n).then(function(t){return t.json()}).then(function(e){var n=e.daily.data.shift(),r=new a.a(e.currently.temperature,e.currently.apparentTemperature,e.currently.summary,e.currently.icon,e.currently.precipProbability,e.currently.humidity,e.currently.windSpeed,e.currently.windBearing,e.currently.cloudCover,e.currently.pressure,e.currently.time>n.sunsetTime||e.currently.time<n.sunriseTime?"night":"day"),o=e.daily.data.map(function(t){var e=t.temperatureMax,n=t.temperatureMin,r=t.time,i=t.icon,a=t.summary;return new u.a(e,n,r,i,a)});return new i.a(t,r,o)})},getCurrentLocation:function(){return o.a.http.get(c.LOCATOR).then(function(t){return t.json()}).then(function(t){return new r.a(t.lat,t.lon,t.city+", "+t.country)})}}},function(t,e,n){"use strict";var r=n(34),i=n(4);e.a={selectUnit:function(t,e){var n=t.commit,r=t.dispatch;n(i.a,e),r("getWeather")},getCurrentLocation:function(t){var e=t.dispatch,n=t.commit;return n(i.b),r.a.getCurrentLocation().then(function(t){n(i.c,t),e("getWeather")}).catch(function(){return n(i.d)})},getLocationForAddress:function(t,e){var n=t.dispatch,a=t.commit;return a(i.e),r.a.getLocationForAddress(e).then(function(t){a(i.f,t),n("getWeather")}).catch(function(){return a(i.g)})},getWeather:function(t){var e=t.getters,n=t.commit,a=t.state;return n(i.h),r.a.getWeather(a.location,e.selectedUnit).then(function(t){n(i.i,t)}).catch(function(){return n(i.j)})}}},function(t,e,n){"use strict";e.a={selectedUnit:function(t){return t.units.find(function(t){return!0===t.selected})}}},function(t,e,n){"use strict";var r,i=n(41),a=n.n(i),u=n(4);e.a=(r={},a()(r,u.a,function(t,e){t.units=t.units.map(function(t){return t.selected=!1,t}),t.units.find(function(t){return t.value===e.value}).selected=!0}),a()(r,u.b,function(t){t.location=null}),a()(r,u.c,function(t,e){t.location=e}),a()(r,u.d,function(t){t.location=null}),a()(r,u.e,function(t){t.location=null}),a()(r,u.f,function(t,e){t.location=e}),a()(r,u.g,function(t){t.location=null}),a()(r,u.h,function(t){t.weather=null}),a()(r,u.i,function(t,e){t.weather=e}),a()(r,u.j,function(t){t.weather=null}),r)},function(t,e,n){"use strict";e.a={units:[{display:"C",value:"uk",selected:!0},{display:"F",value:"us",selected:!1}],location:null,weather:null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,n){function r(t){n(70)}var i=n(0)(n(25),n(81),r,"data-v-1af1aaf6",null);t.exports=i.exports},function(t,e,n){function r(t){n(69)}var i=n(0)(n(26),n(80),r,"data-v-02f4f316",null);t.exports=i.exports},function(t,e,n){function r(t){n(74)}var i=n(0)(n(27),n(85),r,"data-v-b87b863a",null);t.exports=i.exports},function(t,e,n){function r(t){n(72)}var i=n(0)(n(28),n(83),r,"data-v-665f1b00",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"daily-weather",attrs:{title:t.data.summary}},[n("p",[n("strong",[t._v("H")]),t._v(t._s(t._f("round")(t.data.max))+"\n    "),n("strong",[t._v("L")]),t._v(t._s(t._f("round")(t.data.min))+"\n  ")]),t._v(" "),n("weather-icon",{attrs:{name:t.data.icon,size:32}}),t._v(" "),n("p",[t._v(t._s(t._f("day")(1e3*t.data.time)))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"current-weather"},[n("p",{staticClass:"current-weather__temperature"},[t._v(t._s(t._f("round")(t.data.apparentTemperature))+"Â°")]),t._v(" "),n("div",[n("p",[t._v("Precipitation: "+t._s(t._f("round")(100*t.data.precipProbability))+"%")]),t._v(" "),n("p",[t._v("Humidity: "+t._s(t._f("round")(100*t.data.humidity))+"%")]),t._v(" "),n("p",[t._v("Wind: "+t._s(t._f("round")(1.60934*t.data.windSpeed))+"km/h")])]),t._v(" "),n("weather-icon",{attrs:{size:200,name:t.data.icon}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weather-icon"},[n("canvas",{ref:"canvas",attrs:{width:t.size,height:t.size}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"unit-switcher"},t._l(t.units,function(e){return n("button",{class:{selected:e.selected},on:{click:function(n){t.selectUnit(e)}}},[t._v("\n    "+t._s(e.display)+"\n  ")])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",class:t.weather?t.weather.current.period:"",attrs:{id:"app"}},[n("div",{staticClass:"app-container"},[n("search",{on:{onQueryEntered:t.onQueryEntered}}),t._v(" "),t.weather?n("div",[n("div",{staticClass:"app-meta"},[t.location?n("p",[t._v(t._s(t.location.name))]):t._e(),t._v(" "),n("unit-switcher",{on:{onUnitChanged:t.onUnitChanged}})],1),t._v(" "),n("current-weather",{attrs:{data:t.weather.current}}),t._v(" "),n("div",{staticClass:"forecast"},t._l(t.weather.forecast,function(t){return n("daily-weather",{key:t.time,attrs:{data:t}})}))],1):t._e()],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){e.preventDefault(),t.submitForm(e)}}},[n("input",{ref:"city",attrs:{type:"text",placeholder:"Which city are you in?",autofocus:""}})])},staticRenderFns:[]}},,,function(t,e){}],[31]);
//# sourceMappingURL=app.aa5b83d91a42a80286d4.js.map